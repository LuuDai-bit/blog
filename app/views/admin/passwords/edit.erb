<%= render partial: 'shared/breadcrumbs', locals: { sites: [{name: 'Settings', url: admin_settings_path}, {name: 'Change password', url: edit_admin_password_path}] } %>

<h1 class="admin-title">Edit password</h1>

<%= form_with url: admin_password_path,
              method: :patch,
              scope: :user do |form| %>
  <div class="w-100 p-1">
    <div class="row w-100">
      <div class="form-group col-6">
        <%= form.label :password, 'Password' %>
        <%= form.password_field :password, class: 'form-control toggle-password', placeholder: 'Password' %>
        <div class="errors" id="password-error-block">
          <% @user&.errors&.full_messages_for(:password)&.each do |message| %>
            <p class="danger"><%= message %></p>
          <% end %>
        </div>
      </div>

      <div class="form-group col-6">
        <%= form.label :password_confirmation, 'Password Confirmation' %>
        <%= form.password_field :password_confirmation, class: 'form-control toggle-password', placeholder: 'Password Confirmation' %>
        <div class="errors" id="password-confirmation-error-block">
          <% @user&.errors&.full_messages_for(:password_confirmation)&.each do |message| %>
            <p class="danger"><%= message %></p>
          <% end %>
        </div>
      </div>
    </div>
  </div>

  <%= form.submit('Save', class: 'btn btn-primary ml-1', id: 'save_password') %>
  <%= link_to('Cancel', admin_settings_path, class: 'btn btn-secondary') %>
<% end %>
