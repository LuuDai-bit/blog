<%= render partial: 'shared/breadcrumbs', locals: { sites: [{name: 'Auth Tokens', url: '#'}] } %>

<h1 class="admin-title">Authentication Tokens</h1>

<div class="main-container">
  <%= link_to(admin_auth_tokens_path, method: :post, class: 'btn btn-primary') do %>
    <%= icon 'plus', library: 'boxicons' %>
    <span>Create Token</span>
  <% end %>

  <% if @auth_tokens.present? %>
    <table class="table table-hover mt-3 table-striped table-bordered">
      <thead>
        <tr>
          <th class="col-md-1 text-center">Id</th>
          <th class="col-md-3 text-center">Token</th>
          <th class="col-md-1 text-center">Created At</th>
          <th class="col text-center">Action</th>
        </tr>
      </thead>
      <tbody id="admin-posts">
        <%= render partial: :auth_token, collection: @auth_tokens %>
      </tbody>
    </table>
    <div id="admin-posts-paginate" class="pagination-admin d-flex justify-content-center">
      <%== pagy_bootstrap_nav(@pagy) %>
    </div>
  <% else %>
    <div class="mt-3 w-100 h-100vh text-center">
      NO AUTHENTICATION TOKEN
    </div>
  <% end %>

  <%= render partial: 'peek_token_modal' %>
</div>
